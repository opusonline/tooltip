/*!
 * jQuery Tooltip plugin
 *
 * Copyright (c) 2011 Stefan Benicke
 *
 * Dual licensed under the MIT and GPL licenses
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(f){var e={offsetX:10,offsetY:10,delay:250,fade:true,id:"tooltip",speed:"fast",format:function(k){return k.replace(/(^\ -\ |\ -\ $)/g,"").replace(/(\ -\ )+/g," - ").replace(/\ -\ /g,"<br/>")}},a=f(window),d=f(document),b,i,h,g,j=function(){b=a.width();i=a.height()},c=function(){h=d.scrollTop();g=d.scrollLeft()};j();c();a.resize(j).scroll(c);f.fn.tooltip=function(k){k=f.extend({},e,k);var l=f("#"+k.id);if(!l.length){l=f('<div id="'+k.id+'" style="display:none;pointer-events:none"/>').appendTo("body")}return this.each(function(){var o=f(this),s=k.format(o.attr("title")),q,p,t,r=function(u){q=u.pageY+k.offsetY;p=u.pageX+k.offsetX;t=setTimeout(m,k.delay)},m=function(){l.html(s);var v=l.outerWidth(),u=l.outerHeight();if(q+u>i+h){q=q-u-2*k.offsetY}if(p+v>b+g){p=p-v-2*k.offsetX}l.css({top:q,left:p});if(k.fade){l.stop(true,true).fadeIn(k.speed)}else{l.show()}},n=function(){clearTimeout(t);if(k.fade){l.fadeOut(k.speed)}else{l.hide()}};o.removeAttr("title").mouseenter(r).mouseleave(n)})}})(jQuery);